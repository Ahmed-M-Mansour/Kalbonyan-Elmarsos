var A=Object.create;var n=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var p=e=>n(e,"__esModule",{value:!0});var q=(e,t)=>{p(e);for(var r in t)n(e,r,{get:t[r],enumerable:!0})},D=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of w(t))!I.call(e,o)&&o!=="default"&&n(e,o,{get:()=>t[o],enumerable:!(r=x(t,o))||r.enumerable});return e},i=e=>D(p(n(e!=null?A(C(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);q(exports,{main:()=>E});var c=i(require("util")),g=i(require("aws-sdk")),u;g.default.config.logger={log:l};function l(){u.push({date:new Date,string:c.default.format.apply(null,arguments)})}function f(e){u=[],l("API event",{body:e.body,pathParameters:e.pathParameters,queryStringParameters:e.queryStringParameters})}function y(e){u.forEach(({date:t,string:r})=>console.debug(t,r)),console.error(e)}function d(e){return async function(t,r){let o,a;f(t);try{o=await e(t,r),a=200}catch(m){y(m),o={error:m.message},a=500}return{statusCode:a,body:JSON.stringify(o),headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}}}var b=i(require("aws-sdk")),s=new b.default.DynamoDB.DocumentClient,h={get:e=>s.get(e).promise(),put:e=>s.put(e).promise(),query:e=>s.query(e).promise(),update:e=>s.update(e).promise(),delete:e=>s.delete(e).promise()};var E=d(async e=>{let t={TableName:process.env.TABLE_NAME,KeyConditionExpression:"userId = :userId",ExpressionAttributeValues:{":userId":e.requestContext.authorizer.iam.cognitoIdentity.identityId}};return(await h.query(t)).Items});0&&(module.exports={main});
//# sourceMappingURL=list.js.map
