var ua=Object.create;var ne=Object.defineProperty;var pa=Object.getOwnPropertyDescriptor;var ha=Object.getOwnPropertyNames,It=Object.getOwnPropertySymbols,da=Object.getPrototypeOf,Mt=Object.prototype.hasOwnProperty,la=Object.prototype.propertyIsEnumerable;var Gt=(t,e,r)=>e in t?ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,be=(t,e)=>{for(var r in e||(e={}))Mt.call(e,r)&&Gt(t,r,e[r]);if(It)for(var r of It(e))la.call(e,r)&&Gt(t,r,e[r]);return t};var Dt=t=>ne(t,"__esModule",{value:!0});var u=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ma=(t,e)=>{Dt(t);for(var r in e)ne(t,r,{get:e[r],enumerable:!0})},fa=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ha(e))!Mt.call(t,s)&&s!=="default"&&ne(t,s,{get:()=>e[s],enumerable:!(r=pa(e,s))||r.enumerable});return t},We=t=>fa(Dt(ne(t!=null?ua(da(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var kt=u((Kc,Qe)=>{"use strict";function Nt(t,e){for(let r in e){let s=r[0].toLowerCase()+r.substring(1),o=new e[r](t);this[s]=o}}Qe.exports=function(t,e){return function(r){return new Nt(r,e)}};Qe.exports.ResourceNamespace=Nt});var we=u((zc,Ft)=>{"use strict";var ya=String.prototype.replace,Ta=/%20/g,Xe={RFC1738:"RFC1738",RFC3986:"RFC3986"};Ft.exports={default:Xe.RFC3986,formatters:{RFC1738:function(t){return ya.call(t,Ta,"+")},RFC3986:function(t){return String(t)}},RFC1738:Xe.RFC1738,RFC3986:Xe.RFC3986}});var Ye=u((Wc,Ht)=>{"use strict";var ga=we(),Je=Object.prototype.hasOwnProperty,$=Array.isArray,w=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Sa=function(e){for(;e.length>1;){var r=e.pop(),s=r.obj[r.prop];if($(s)){for(var o=[],i=0;i<s.length;++i)typeof s[i]!="undefined"&&o.push(s[i]);r.obj[r.prop]=o}}},Lt=function(e,r){for(var s=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]!="undefined"&&(s[o]=e[o]);return s},Ea=function t(e,r,s){if(!r)return e;if(typeof r!="object"){if($(e))e.push(r);else if(e&&typeof e=="object")(s&&(s.plainObjects||s.allowPrototypes)||!Je.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return $(e)&&!$(r)&&(o=Lt(e,s)),$(e)&&$(r)?(r.forEach(function(i,n){if(Je.call(e,n)){var a=e[n];a&&typeof a=="object"&&i&&typeof i=="object"?e[n]=t(a,i,s):e.push(i)}else e[n]=i}),e):Object.keys(r).reduce(function(i,n){var a=r[n];return Je.call(i,n)?i[n]=t(i[n],a,s):i[n]=a,i},o)},xa=function(e,r){return Object.keys(r).reduce(function(s,o){return s[o]=r[o],s},e)},_a=function(t,e,r){var s=t.replace(/\+/g," ");if(r==="iso-8859-1")return s.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(s)}catch(o){return s}},Pa=function(e,r,s,o,i){if(e.length===0)return e;var n=e;if(typeof e=="symbol"?n=Symbol.prototype.toString.call(e):typeof e!="string"&&(n=String(e)),s==="iso-8859-1")return escape(n).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<n.length;++c){var p=n.charCodeAt(c);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===ga.RFC1738&&(p===40||p===41)){a+=n.charAt(c);continue}if(p<128){a=a+w[p];continue}if(p<2048){a=a+(w[192|p>>6]+w[128|p&63]);continue}if(p<55296||p>=57344){a=a+(w[224|p>>12]+w[128|p>>6&63]+w[128|p&63]);continue}c+=1,p=65536+((p&1023)<<10|n.charCodeAt(c)&1023),a+=w[240|p>>18]+w[128|p>>12&63]+w[128|p>>6&63]+w[128|p&63]}return a},va=function(e){for(var r=[{obj:{o:e},prop:"o"}],s=[],o=0;o<r.length;++o)for(var i=r[o],n=i.obj[i.prop],a=Object.keys(n),c=0;c<a.length;++c){var p=a[c],l=n[p];typeof l=="object"&&l!==null&&s.indexOf(l)===-1&&(r.push({obj:n,prop:p}),s.push(l))}return Sa(r),e},Ra=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Oa=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},qa=function(e,r){return[].concat(e,r)},Aa=function(e,r){if($(e)){for(var s=[],o=0;o<e.length;o+=1)s.push(r(e[o]));return s}return r(e)};Ht.exports={arrayToObject:Lt,assign:xa,combine:qa,compact:va,decode:_a,encode:Pa,isBuffer:Oa,isRegExp:Ra,maybeMap:Aa,merge:Ea}});var Vt=u((Qc,Bt)=>{"use strict";var Ze=Ye(),ae=we(),ba=Object.prototype.hasOwnProperty,Ut={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},B=Array.isArray,wa=Array.prototype.push,jt=function(t,e){wa.apply(t,B(e)?e:[e])},Ca=Date.prototype.toISOString,$t=ae.default,_={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ze.encode,encodeValuesOnly:!1,format:$t,formatter:ae.formatters[$t],indices:!1,serializeDate:function(e){return Ca.call(e)},skipNulls:!1,strictNullHandling:!1},Ia=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ma=function t(e,r,s,o,i,n,a,c,p,l,T,f,y,d){var m=e;if(typeof a=="function"?m=a(r,m):m instanceof Date?m=l(m):s==="comma"&&B(m)&&(m=Ze.maybeMap(m,function(j){return j instanceof Date?l(j):j})),m===null){if(o)return n&&!y?n(r,_.encoder,d,"key",T):r;m=""}if(Ia(m)||Ze.isBuffer(m)){if(n){var I=y?r:n(r,_.encoder,d,"key",T);return[f(I)+"="+f(n(m,_.encoder,d,"value",T))]}return[f(r)+"="+f(String(m))]}var M=[];if(typeof m=="undefined")return M;var P;if(s==="comma"&&B(m))P=[{value:m.length>0?m.join(",")||null:void 0}];else if(B(a))P=a;else{var k=Object.keys(m);P=c?k.sort(c):k}for(var v=0;v<P.length;++v){var b=P[v],G=typeof b=="object"&&b.value!==void 0?b.value:m[b];if(!(i&&G===null)){var Ae=B(m)?typeof s=="function"?s(r,b):r:r+(p?"."+b:"["+b+"]");jt(M,t(G,Ae,s,o,i,n,a,c,p,l,T,f,y,d))}}return M},Ga=function(e){if(!e)return _;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||_.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var s=ae.default;if(typeof e.format!="undefined"){if(!ba.call(ae.formatters,e.format))throw new TypeError("Unknown format option provided.");s=e.format}var o=ae.formatters[s],i=_.filter;return(typeof e.filter=="function"||B(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:_.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?_.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?_.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:_.encode,encoder:typeof e.encoder=="function"?e.encoder:_.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:_.encodeValuesOnly,filter:i,format:s,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:_.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:_.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_.strictNullHandling}};Bt.exports=function(t,e){var r=t,s=Ga(e),o,i;typeof s.filter=="function"?(i=s.filter,r=i("",r)):B(s.filter)&&(i=s.filter,o=i);var n=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Ut?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Ut[a];o||(o=Object.keys(r)),s.sort&&o.sort(s.sort);for(var p=0;p<o.length;++p){var l=o[p];s.skipNulls&&r[l]===null||jt(n,Ma(r[l],l,c,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset))}var T=n.join(s.delimiter),f=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),T.length>0?f+T:""}});var Wt=u((Xc,zt)=>{"use strict";var z=Ye(),et=Object.prototype.hasOwnProperty,Da=Array.isArray,x={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:z.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Na=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Kt=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ka="utf8=%26%2310003%3B",Fa="utf8=%E2%9C%93",La=function(e,r){var s={},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,n=o.split(r.delimiter,i),a=-1,c,p=r.charset;if(r.charsetSentinel)for(c=0;c<n.length;++c)n[c].indexOf("utf8=")===0&&(n[c]===Fa?p="utf-8":n[c]===ka&&(p="iso-8859-1"),a=c,c=n.length);for(c=0;c<n.length;++c)if(c!==a){var l=n[c],T=l.indexOf("]="),f=T===-1?l.indexOf("="):T+1,y,d;f===-1?(y=r.decoder(l,x.decoder,p,"key"),d=r.strictNullHandling?null:""):(y=r.decoder(l.slice(0,f),x.decoder,p,"key"),d=z.maybeMap(Kt(l.slice(f+1),r),function(m){return r.decoder(m,x.decoder,p,"value")})),d&&r.interpretNumericEntities&&p==="iso-8859-1"&&(d=Na(d)),l.indexOf("[]=")>-1&&(d=Da(d)?[d]:d),et.call(s,y)?s[y]=z.combine(s[y],d):s[y]=d}return s},Ha=function(t,e,r,s){for(var o=s?e:Kt(e,r),i=t.length-1;i>=0;--i){var n,a=t[i];if(a==="[]"&&r.parseArrays)n=[].concat(o);else{n=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,p=parseInt(c,10);!r.parseArrays&&c===""?n={0:o}:!isNaN(p)&&a!==c&&String(p)===c&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(n=[],n[p]=o):n[c]=o}o=n}return o},Ua=function(e,r,s,o){if(!!e){var i=s.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=s.depth>0&&n.exec(i),p=c?i.slice(0,c.index):i,l=[];if(p){if(!s.plainObjects&&et.call(Object.prototype,p)&&!s.allowPrototypes)return;l.push(p)}for(var T=0;s.depth>0&&(c=a.exec(i))!==null&&T<s.depth;){if(T+=1,!s.plainObjects&&et.call(Object.prototype,c[1].slice(1,-1))&&!s.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+i.slice(c.index)+"]"),Ha(l,r,s,o)}},ja=function(e){if(!e)return x;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?x.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?x.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:x.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:x.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:x.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:x.comma,decoder:typeof e.decoder=="function"?e.decoder:x.decoder,delimiter:typeof e.delimiter=="string"||z.isRegExp(e.delimiter)?e.delimiter:x.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:x.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:x.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:x.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:x.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:x.strictNullHandling}};zt.exports=function(t,e){var r=ja(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var s=typeof t=="string"?La(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(s),n=0;n<i.length;++n){var a=i[n],c=Ua(a,s[a],r,typeof t=="string");o=z.merge(o,c,r)}return z.compact(o)}});var Xt=u((Jc,Qt)=>{"use strict";var $a=Vt(),Ba=Wt(),Va=we();Qt.exports={formats:Va,parse:Ba,stringify:$a}});var D=u((Yc,Zt)=>{"use strict";var Ka=require("events").EventEmitter,za=Xt(),Jt=require("crypto"),tt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Yt=null;try{Yt=require("child_process").exec}catch(t){if(t.code!=="MODULE_NOT_FOUND")throw t}var rt=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host"],st={api_key:"apiKey",idempotency_key:"idempotencyKey",stripe_account:"stripeAccount",stripe_version:"apiVersion",stripeVersion:"apiVersion"},Wa=Object.keys(st),W=Zt.exports={isOptionsHash(t){return t&&typeof t=="object"&&(rt.some(e=>tt(t,e))||Wa.some(e=>tt(t,e)))},stringifyRequestData:t=>za.stringify(t,{serializeDate:e=>Math.floor(e.getTime()/1e3)}).replace(/%5B/g,"[").replace(/%5D/g,"]"),makeURLInterpolator:(()=>{let t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{let r=e.replace(/["\n\r\u2028\u2029]/g,s=>t[s]);return s=>r.replace(/\{([\s\S]+?)\}/g,(o,i)=>encodeURIComponent(s[i]||""))}})(),extractUrlParams:t=>{let e=t.match(/\{\w+\}/g);return e?e.map(r=>r.replace(/[{}]/g,"")):[]},getDataFromArgs(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!W.isOptionsHash(t[0]))return t.shift();let e=Object.keys(t[0]),r=e.filter(s=>rt.includes(s));return r.length>0&&r.length!==e.length&&Ce(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}},getOptionsFromArgs:t=>{let e={auth:null,headers:{},settings:{}};if(t.length>0){let r=t[t.length-1];if(typeof r=="string")e.auth=t.pop();else if(W.isOptionsHash(r)){let s=be({},t.pop()),o=Object.keys(s).filter(i=>!rt.includes(i));o.length&&o.filter(n=>{if(!st[n])return!0;let a=st[n];if(s[a])throw Error(`Both '${a}' and '${n}' were provided; please remove '${n}', which is deprecated.`);Ce(`'${n}' is deprecated; use '${a}' instead.`),s[a]=s[n]}).length&&Ce(`Invalid options found (${o.join(", ")}); ignoring.`),s.apiKey&&(e.auth=s.apiKey),s.idempotencyKey&&(e.headers["Idempotency-Key"]=s.idempotencyKey),s.stripeAccount&&(e.headers["Stripe-Account"]=s.stripeAccount),s.apiVersion&&(e.headers["Stripe-Version"]=s.apiVersion),Number.isInteger(s.maxNetworkRetries)&&(e.settings.maxNetworkRetries=s.maxNetworkRetries),Number.isInteger(s.timeout)&&(e.settings.timeout=s.timeout),s.host&&(e.host=s.host)}}return e},protoExtend(t){let e=this,r=tt(t,"constructor")?t.constructor:function(...s){e.apply(this,s)};return Object.assign(r,e),r.prototype=Object.create(e.prototype),Object.assign(r.prototype,t),r},secureCompare:(t,e)=>{if(t=Buffer.from(t),e=Buffer.from(e),t.length!==e.length)return!1;if(Jt.timingSafeEqual)return Jt.timingSafeEqual(t,e);let r=t.length,s=0;for(let o=0;o<r;++o)s|=t[o]^e[o];return s===0},removeNullish:t=>{if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,r)=>(t[r]!=null&&(e[r]=t[r]),e),{})},normalizeHeaders:t=>t&&typeof t=="object"?Object.keys(t).reduce((e,r)=>(e[W.normalizeHeader(r)]=t[r],e),{}):t,normalizeHeader:t=>t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-"),checkForStream:t=>t.file&&t.file.data?t.file.data instanceof Ka:!1,callbackifyPromiseWithTimeout:(t,e)=>e?t.then(r=>{setTimeout(()=>{e(null,r)},0)},r=>{setTimeout(()=>{e(r,null)},0)}):t,pascalToCamelCase:t=>t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1),emitWarning:Ce,safeExec:(t,e)=>{if(W._exec===null){e(new Error("exec not available"),null);return}try{W._exec(t,e)}catch(r){e(r,null)}},_exec:Yt,isObject:t=>{let e=typeof t;return(e==="function"||e==="object")&&!!t},flattenAndStringify:t=>{let e={},r=(s,o)=>{Object.keys(s).forEach(i=>{let n=s[i],a=o?`${o}[${i}]`:i;if(W.isObject(n)){if(!Buffer.isBuffer(n)&&!n.hasOwnProperty("data"))return r(n,a);e[a]=n}else e[a]=String(n)})};return r(t),e},uuid4:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),validateInteger:(t,e,r)=>{if(!Number.isInteger(e)){if(r!==void 0)return r;throw new Error(`${t} must be an integer`)}return e},determineProcessUserAgentProperties:()=>typeof process=="undefined"?{}:{lang_version:process.version,platform:process.platform}};function Ce(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}});var Q=u((Zc,O)=>{"use strict";var R=class extends Error{constructor(e={}){super(e.message);this.type=this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}static generate(e){switch(e.type){case"card_error":return new ot(e);case"invalid_request_error":return new it(e);case"api_error":return new nt(e);case"authentication_error":return new at(e);case"rate_limit_error":return new ct(e);case"idempotency_error":return new ut(e);case"invalid_grant":return new pt(e);default:return new GenericError("Generic","Unknown Error")}}},ot=class extends R{},it=class extends R{},nt=class extends R{},at=class extends R{},er=class extends R{},ct=class extends R{},tr=class extends R{},rr=class extends R{},ut=class extends R{},pt=class extends R{};O.exports.generate=R.generate;O.exports.StripeError=R;O.exports.StripeCardError=ot;O.exports.StripeInvalidRequestError=it;O.exports.StripeAPIError=nt;O.exports.StripeAuthenticationError=at;O.exports.StripePermissionError=er;O.exports.StripeRateLimitError=ct;O.exports.StripeConnectionError=tr;O.exports.StripeSignatureVerificationError=rr;O.exports.StripeIdempotencyError=ut;O.exports.StripeInvalidGrantError=pt});var ce=u((eu,or)=>{"use strict";var X=class{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,r,s,o,i,n,a,c){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let e=new TypeError(X.TIMEOUT_ERROR_CODE);return e.code=X.TIMEOUT_ERROR_CODE,e}};X.TIMEOUT_ERROR_CODE="ETIMEDOUT";var sr=class{constructor(e,r){this._statusCode=e,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};or.exports={HttpClient:X,HttpClientResponse:sr}});var ht=u((tu,ir)=>{"use strict";var Ie=D();function Qa(t,e,r,s){let o=(r.method||"GET").toUpperCase(),i=r.urlParams||[],n=r.encode||(G=>G),a=!!r.fullPath,c=Ie.makeURLInterpolator(a?r.fullPath:r.path||""),p=a?r.fullPath:t.createResourcePathWithSymbols(r.path),l=[].slice.call(e),T=i.reduce((G,Ae)=>{let j=l.shift();if(typeof j!="string")throw new Error(`Stripe: Argument "${Ae}" must be a string, but got: ${j} (on API request to \`${o} ${p}\`)`);return G[Ae]=j,G},{}),f=Ie.getDataFromArgs(l),y=n(Object.assign({},f,s)),d=Ie.getOptionsFromArgs(l),m=d.host||r.host,I=!!r.streaming;if(l.filter(G=>G!=null).length)throw new Error(`Stripe: Unknown arguments (${l}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${o} \`${p}\`)`);let M=a?c(T):t.createFullPath(c,T),P=Object.assign(d.headers,r.headers);r.validator&&r.validator(y,{headers:P});let k=r.method==="GET"||r.method==="DELETE";return{requestMethod:o,requestPath:M,bodyData:k?{}:y,queryData:k?y:{},auth:d.auth,headers:P,host:m,streaming:I,settings:d.settings}}function Xa(t,e,r,s){return new Promise((o,i)=>{let n;try{n=Qa(t,e,r,s)}catch(f){i(f);return}function a(f,y){f?i(f):o(r.transformResponseData?r.transformResponseData(y):y)}let c=Object.keys(n.queryData).length===0,p=[n.requestPath,c?"":"?",Ie.stringifyRequestData(n.queryData)].join(""),{headers:l,settings:T}=n;t._request(n.requestMethod,n.host,p,n.bodyData,n.auth,{headers:l,settings:T,streaming:n.streaming},a)})}ir.exports=Xa});var cr=u((ru,ar)=>{"use strict";var nr=ht(),dt=D();function Ja(t,e,r,s){let o={currentPromise:null},i=nc(e),n=s,a=0,c;r.methodType==="search"?c=d=>{if(!d.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return nr(t,e,r,{next_page:d.next_page})}:c=d=>{let m=tc(d,i);return nr(t,e,r,{[i?"ending_before":"starting_after"]:m})};function p(d){if(!(d&&d.data&&typeof d.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");if(a<d.data.length){let m=i?d.data.length-1-a:a,I=d.data[m];return a+=1,{value:I,done:!1}}else if(d.has_more)return a=0,n=c(d),n.then(p);return{value:void 0,done:!0}}function l(){return rc(o,(d,m)=>n.then(p).then(d).catch(m))}let T=sc(l),f=oc(T),y={autoPagingEach:T,autoPagingToArray:f,next:l,return:()=>({}),[Ya()]:()=>y};return y}ar.exports.makeAutoPaginationMethods=Ja;function Ya(){return typeof Symbol!="undefined"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function Za(t){if(t.length<2)return;let e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function ec(t){if(t.length===0)return;let e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(s,o){let i=e(s);o(i)}}function tc(t,e){let r=e?0:t.data.length-1,s=t.data[r],o=s&&s.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}function rc(t,e){return t.currentPromise||(t.currentPromise=new Promise(e).then(r=>(t.currentPromise=void 0,r))),t.currentPromise}function sc(t){return function(){let r=[].slice.call(arguments),s=ec(r),o=Za(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);let i=ic(t,s);return dt.callbackifyPromiseWithTimeout(i,o)}}function oc(t){return function(r,s){let o=r&&r.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let i=new Promise((n,a)=>{let c=[];t(p=>{if(c.push(p),c.length>=o)return!1}).then(()=>{n(c)}).catch(a)});return dt.callbackifyPromiseWithTimeout(i,s)}}function ic(t,e){return new Promise((r,s)=>{function o(i){if(i.done){r();return}let n=i.value;return new Promise(a=>{e(n,a)}).then(a=>a===!1?o({done:!0}):t().then(o))}t().then(o).catch(s)})}function nc(t){let e=[].slice.call(t);return!!dt.getDataFromArgs(e).ending_before}});var lt=u((su,pr)=>{"use strict";var ur=D(),ac=ht(),cc=cr().makeAutoPaginationMethods;function uc(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){let r=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=ur.extractUrlParams(t.fullPath||this.createResourcePathWithSymbols(t.path||""));let s=ur.callbackifyPromiseWithTimeout(ac(this,e,t,{}),r);if(t.methodType==="list"||t.methodType==="search"){let o=cc(this,e,t,s);Object.assign(s,o)}return s}}pr.exports=uc});var dr=u((ou,hr)=>{"use strict";var ue=lt();hr.exports={create:ue({method:"POST"}),list:ue({method:"GET",methodType:"list"}),retrieve:ue({method:"GET",path:"/{id}"}),update:ue({method:"POST",path:"{id}"}),del:ue({method:"DELETE",path:"{id}"})}});var h=u((iu,fr)=>{"use strict";var lr=require("path"),A=D(),{StripeConnectionError:mr,StripeAuthenticationError:pc,StripePermissionError:hc,StripeRateLimitError:dc,StripeError:lc,StripeAPIError:mc}=Q(),{HttpClient:fc}=ce();F.extend=A.protoExtend;F.method=lt();F.BASIC_METHODS=dr();F.MAX_BUFFERED_REQUEST_METRICS=100;var yc=60;function F(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=A.makeURLInterpolator(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=A.makeURLInterpolator(this.path),this.includeBasic&&this.includeBasic.forEach(function(r){this[r]=F.BASIC_METHODS[r]},this),this.initialize(...arguments)}F.prototype={path:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){return lr.join(this.basePath(e),this.path(e),typeof t=="function"?t(e):t).replace(/\\/g,"/")},createResourcePathWithSymbols(t){return`/${lr.join(this.resourcePath,t||"").replace(/\\/g,"/")}`},wrapTimeout:A.callbackifyPromiseWithTimeout,_timeoutHandler(t,e,r){return()=>{let s=new TypeError("ETIMEDOUT");s.code="ETIMEDOUT",e.destroy(s)}},_addHeadersDirectlyToObject(t,e){t.requestId=e["request-id"],t.stripeAccount=t.stripeAccount||e["stripe-account"],t.apiVersion=t.apiVersion||e["stripe-version"],t.idempotencyKey=t.idempotencyKey||e["idempotency-key"]},_makeResponseEvent(t,e,r){let s=Date.now(),o=s-t.request_start_time;return A.removeNullish({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:t.method,path:t.path,status:e,request_id:this._getRequestId(r),elapsed:o,request_start_time:t.request_start_time,request_end_time:s})},_getRequestId(t){return t["request-id"]},_streamingResponseHandler(t,e){return r=>{let s=r.getHeaders(),o=()=>{let n=this._makeResponseEvent(t,r.getStatusCode(),s);this._stripe._emitter.emit("response",n),this._recordRequestMetrics(this._getRequestId(s),n.elapsed)},i=r.toStream(o);return this._addHeadersDirectlyToObject(i,s),e(null,i)}},_jsonResponseHandler(t,e){return r=>{let s=r.getHeaders(),o=this._getRequestId(s),i=r.getStatusCode(),n=this._makeResponseEvent(t,i,s);this._stripe._emitter.emit("response",n),r.toJSON().then(a=>{if(a.error){let c;throw typeof a.error=="string"&&(a.error={type:a.error,message:a.error_description}),a.error.headers=s,a.error.statusCode=i,a.error.requestId=o,i===401?c=new pc(a.error):i===403?c=new hc(a.error):i===429?c=new dc(a.error):c=lc.generate(a.error),c}return a},a=>{throw new mc({message:"Invalid JSON received from the Stripe API",exception:a,requestId:s["request-id"]})}).then(a=>{this._recordRequestMetrics(o,n.elapsed);let c=r.getRawResponse();this._addHeadersDirectlyToObject(c,s),Object.defineProperty(a,"lastResponse",{enumerable:!1,writable:!1,value:c}),e.call(this,null,a)},a=>e.call(this,a,null))}},_generateConnectionErrorMessage(t){return`An error occurred with our connection to Stripe.${t>0?` Request was retried ${t} times.`:""}`},_errorHandler(t,e,r){return(s,o)=>{r.call(this,new mr({message:this._generateConnectionErrorMessage(e),detail:error}),null)}},_shouldRetry(t,e,r){return e>=r?!1:t?t.getHeaders()["stripe-should-retry"]==="false"?!1:t.getHeaders()["stripe-should-retry"]==="true"||t.getStatusCode()===409||t.getStatusCode()>=500:!0},_getSleepTimeInMS(t,e=null){let r=this._stripe.getInitialNetworkRetryDelay(),s=this._stripe.getMaxNetworkRetryDelay(),o=Math.min(r*Math.pow(t-1,2),s);return o*=.5*(1+Math.random()),o=Math.max(r,o),Number.isInteger(e)&&e<=yc&&(o=Math.max(o,e)),o*1e3},_getMaxNetworkRetries(t={}){return t.maxNetworkRetries&&Number.isInteger(t.maxNetworkRetries)?t.maxNetworkRetries:this._stripe.getMaxNetworkRetries()},_defaultIdempotencyKey(t,e){let r=this._getMaxNetworkRetries(e);return t==="POST"&&r>0?`stripe-node-retry-${A.uuid4()}`:null},_makeHeaders(t,e,r,s,o,i,n){let a={Authorization:t?`Bearer ${t}`:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Content-Length":e,"User-Agent":this._getUserAgentString(),"X-Stripe-Client-User-Agent":s,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":this._stripe.getApiField("stripeAccount"),"Idempotency-Key":this._defaultIdempotencyKey(o,n)};return Object.assign(A.removeNullish(a),A.normalizeHeaders(i))},_getUserAgentString(){let t=this._stripe.getConstant("PACKAGE_VERSION"),e=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/v1 NodeBindings/${t} ${e}`.trim()},_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let t=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:t})}},_recordRequestMetrics(t,e){this._stripe.getTelemetryEnabled()&&t&&(this._stripe._prevRequestMetrics.length>F.MAX_BUFFERED_REQUEST_METRICS?A.emitWarning("Request metrics buffer is full, dropping telemetry message."):this._stripe._prevRequestMetrics.push({request_id:t,request_duration_ms:e}))},_request(t,e,r,s,o,i={},n){let a,c=(T,f,y,d,m)=>setTimeout(T,this._getSleepTimeInMS(d,m),f,y,d+1),p=(T,f,y)=>{let d=i.settings&&Number.isInteger(i.settings.timeout)&&i.settings.timeout>=0?i.settings.timeout:this._stripe.getApiField("timeout"),m=this._stripe.getApiField("httpClient").makeRequest(e||this._stripe.getApiField("host"),this._stripe.getApiField("port"),r,t,f,a,this._stripe.getApiField("protocol"),d),I=Date.now(),M=A.removeNullish({api_version:T,account:f["Stripe-Account"],idempotency_key:f["Idempotency-Key"],method:t,path:r,request_start_time:I}),P=y||0,k=this._getMaxNetworkRetries(i.settings);this._stripe._emitter.emit("request",M),m.then(v=>this._shouldRetry(v,P,k)?c(p,T,f,P,v.getHeaders()["retry-after"]):i.streaming&&v.getStatusCode()<400?this._streamingResponseHandler(M,n)(v):this._jsonResponseHandler(M,n)(v)).catch(v=>{if(this._shouldRetry(null,P,k))return c(p,T,f,P,null);{let b=v.code&&v.code===fc.TIMEOUT_ERROR_CODE;return n.call(this,new mr({message:b?`Request aborted due to timeout being reached (${d}ms)`:this._generateConnectionErrorMessage(P),detail:v}))}})},l=(T,f)=>{if(T)return n(T);a=f,this._stripe.getClientUserAgent(y=>{let d=this._stripe.getApiField("version"),m=this._makeHeaders(o,a.length,d,y,t,i.headers,i.settings);p(d,m)})};this.requestDataProcessor?this.requestDataProcessor(t,s,i.headers,l):l(null,A.stringifyRequestData(s||{}))}};fr.exports=F});var mt=u((nu,Tr)=>{"use strict";var yr=h(),S=yr.method;Tr.exports=yr.extend({path:"",create:S({method:"POST",path:"accounts"}),retrieve(t){return typeof t=="string"?S({method:"GET",path:"accounts/{id}"}).apply(this,arguments):(t==null&&[].shift.apply(arguments),S({method:"GET",path:"account"}).apply(this,arguments))},update:S({method:"POST",path:"accounts/{account}"}),list:S({method:"GET",path:"accounts",methodType:"list"}),del:S({method:"DELETE",path:"accounts/{account}"}),reject:S({method:"POST",path:"accounts/{account}/reject"}),retrieveCapability:S({method:"GET",path:"accounts/{account}/capabilities/{capability}"}),updateCapability:S({method:"POST",path:"accounts/{account}/capabilities/{capability}"}),listCapabilities:S({method:"GET",path:"accounts/{account}/capabilities",methodType:"list"}),createExternalAccount:S({method:"POST",path:"accounts/{account}/external_accounts"}),retrieveExternalAccount:S({method:"GET",path:"accounts/{account}/external_accounts/{id}"}),updateExternalAccount:S({method:"POST",path:"accounts/{account}/external_accounts/{id}"}),listExternalAccounts:S({method:"GET",path:"accounts/{account}/external_accounts",methodType:"list"}),deleteExternalAccount:S({method:"DELETE",path:"accounts/{account}/external_accounts/{id}"}),createLoginLink:S({method:"POST",path:"accounts/{account}/login_links"}),createPerson:S({method:"POST",path:"accounts/{account}/persons"}),retrievePerson:S({method:"GET",path:"accounts/{account}/persons/{person}"}),updatePerson:S({method:"POST",path:"accounts/{account}/persons/{person}"}),listPersons:S({method:"GET",path:"accounts/{account}/persons",methodType:"list"}),deletePerson:S({method:"DELETE",path:"accounts/{account}/persons/{person}"})})});var Er=u((au,Sr)=>{"use strict";var gr=h(),Tc=gr.method;Sr.exports=gr.extend({path:"account_links",create:Tc({method:"POST",path:""})})});var Pr=u((cu,_r)=>{"use strict";var xr=h(),Me=xr.method;_r.exports=xr.extend({path:"apple_pay/domains",create:Me({method:"POST",path:""}),retrieve:Me({method:"GET",path:"/{domain}"}),list:Me({method:"GET",path:"",methodType:"list"}),del:Me({method:"DELETE",path:"/{domain}"})})});var Or=u((uu,Rr)=>{"use strict";var vr=h(),J=vr.method;Rr.exports=vr.extend({path:"application_fees",retrieve:J({method:"GET",path:"/{id}"}),list:J({method:"GET",path:"",methodType:"list"}),createRefund:J({method:"POST",path:"/{id}/refunds"}),retrieveRefund:J({method:"GET",path:"/{fee}/refunds/{id}"}),updateRefund:J({method:"POST",path:"/{fee}/refunds/{id}"}),listRefunds:J({method:"GET",path:"/{id}/refunds",methodType:"list"})})});var br=u((pu,Ar)=>{"use strict";var qr=h(),gc=qr.method;Ar.exports=qr.extend({path:"balance",retrieve:gc({method:"GET",path:""})})});var Mr=u((hu,Ir)=>{"use strict";var wr=h(),Cr=wr.method;Ir.exports=wr.extend({path:"balance_transactions",retrieve:Cr({method:"GET",path:"/{id}"}),list:Cr({method:"GET",path:"",methodType:"list"})})});var Nr=u((du,Dr)=>{"use strict";var Gr=h(),pe=Gr.method;Dr.exports=Gr.extend({path:"charges",create:pe({method:"POST",path:""}),retrieve:pe({method:"GET",path:"/{charge}"}),update:pe({method:"POST",path:"/{charge}"}),list:pe({method:"GET",path:"",methodType:"list"}),capture:pe({method:"POST",path:"/{charge}/capture"})})});var Hr=u((lu,Lr)=>{"use strict";var kr=h(),Fr=kr.method;Lr.exports=kr.extend({path:"country_specs",retrieve:Fr({method:"GET",path:"/{country}"}),list:Fr({method:"GET",path:"",methodType:"list"})})});var $r=u((mu,jr)=>{"use strict";var Ur=h(),he=Ur.method;jr.exports=Ur.extend({path:"coupons",create:he({method:"POST",path:""}),retrieve:he({method:"GET",path:"/{coupon}"}),update:he({method:"POST",path:"/{coupon}"}),list:he({method:"GET",path:"",methodType:"list"}),del:he({method:"DELETE",path:"/{coupon}"})})});var Kr=u((fu,Vr)=>{"use strict";var Br=h(),L=Br.method;Vr.exports=Br.extend({path:"credit_notes",create:L({method:"POST",path:""}),retrieve:L({method:"GET",path:"/{id}"}),update:L({method:"POST",path:"/{id}"}),list:L({method:"GET",path:"",methodType:"list"}),preview:L({method:"GET",path:"/preview"}),voidCreditNote:L({method:"POST",path:"/{id}/void"}),listLineItems:L({method:"GET",path:"/{creditNote}/lines",methodType:"list"}),listPreviewLineItems:L({method:"GET",path:"/preview/lines",methodType:"list"})})});var Qr=u((yu,Wr)=>{"use strict";var zr=h(),E=zr.method;Wr.exports=zr.extend({path:"customers",create:E({method:"POST",path:""}),retrieve:E({method:"GET",path:"/{customer}"}),update:E({method:"POST",path:"/{customer}"}),list:E({method:"GET",path:"",methodType:"list"}),del:E({method:"DELETE",path:"/{customer}"}),deleteDiscount:E({method:"DELETE",path:"/{customer}/discount"}),listPaymentMethods:E({method:"GET",path:"/{customer}/payment_methods",methodType:"list"}),createBalanceTransaction:E({method:"POST",path:"/{customer}/balance_transactions"}),retrieveBalanceTransaction:E({method:"GET",path:"/{customer}/balance_transactions/{transaction}"}),updateBalanceTransaction:E({method:"POST",path:"/{customer}/balance_transactions/{transaction}"}),listBalanceTransactions:E({method:"GET",path:"/{customer}/balance_transactions",methodType:"list"}),createSource:E({method:"POST",path:"/{customer}/sources"}),retrieveSource:E({method:"GET",path:"/{customer}/sources/{id}"}),updateSource:E({method:"POST",path:"/{customer}/sources/{id}"}),listSources:E({method:"GET",path:"/{customer}/sources",methodType:"list"}),deleteSource:E({method:"DELETE",path:"/{customer}/sources/{id}"}),verifySource:E({method:"POST",path:"/{customer}/sources/{id}/verify"}),createTaxId:E({method:"POST",path:"/{customer}/tax_ids"}),retrieveTaxId:E({method:"GET",path:"/{customer}/tax_ids/{id}"}),listTaxIds:E({method:"GET",path:"/{customer}/tax_ids",methodType:"list"}),deleteTaxId:E({method:"DELETE",path:"/{customer}/tax_ids/{id}"})})});var Yr=u((Tu,Jr)=>{"use strict";var Xr=h(),Ge=Xr.method;Jr.exports=Xr.extend({path:"disputes",retrieve:Ge({method:"GET",path:"/{dispute}"}),update:Ge({method:"POST",path:"/{dispute}"}),list:Ge({method:"GET",path:"",methodType:"list"}),close:Ge({method:"POST",path:"/{dispute}/close"})})});var rs=u((gu,ts)=>{"use strict";var Zr=h(),es=Zr.method;ts.exports=Zr.extend({path:"ephemeral_keys",create:es({method:"POST",path:"",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:es({method:"DELETE",path:"/{key}"})})});var ns=u((Su,is)=>{"use strict";var ss=h(),os=ss.method;is.exports=ss.extend({path:"events",retrieve:os({method:"GET",path:"/{id}"}),list:os({method:"GET",path:"",methodType:"list"})})});var ps=u((Eu,us)=>{"use strict";var as=h(),cs=as.method;us.exports=as.extend({path:"exchange_rates",retrieve:cs({method:"GET",path:"/{rateId}"}),list:cs({method:"GET",path:"",methodType:"list"})})});var ms=u((xu,ls)=>{"use strict";var ft=D(),{StripeError:Sc}=Q(),hs=class extends Sc{},ds=(t,e,r)=>{let s=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${s}`;let o=Buffer.alloc(0);function i(c){let p=o,l=c instanceof Buffer?c:Buffer.from(c);o=Buffer.alloc(p.length+l.length+2),p.copy(o),l.copy(o,p.length),o.write(`\r
`,o.length-2)}function n(c){return`"${c.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let a=ft.flattenAndStringify(e);for(let c in a){let p=a[c];i(`--${s}`),p.hasOwnProperty("data")?(i(`Content-Disposition: form-data; name=${n(c)}; filename=${n(p.name||"blob")}`),i(`Content-Type: ${p.type||"application/octet-stream"}`),i(""),i(p.data)):(i(`Content-Disposition: form-data; name=${n(c)}`),i(""),i(p))}return i(`--${s}--`),o},Ec=(t,e,r,s)=>{let o=[];e.file.data.on("data",i=>{o.push(i)}).once("end",()=>{let i=Object.assign({},e);i.file.data=Buffer.concat(o);let n=ds(t,i,r);s(null,n)}).on("error",i=>{s(new hs({message:"An error occurred while attempting to process the file for upload.",detail:i}),null)})},xc=(t,e,r,s)=>{if(e=e||{},t!=="POST")return s(null,ft.stringifyRequestData(e));if(ft.checkForStream(e))return Ec(t,e,r,s);let i=ds(t,e,r);return s(null,i)};ls.exports.multipartRequestDataProcessor=xc});var Ts=u((_u,ys)=>{"use strict";var{multipartRequestDataProcessor:_c}=ms(),fs=h(),yt=fs.method;ys.exports=fs.extend({path:"files",create:yt({method:"POST",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:yt({method:"GET",path:"/{file}"}),list:yt({method:"GET",path:"",methodType:"list"}),requestDataProcessor:_c})});var Es=u((Pu,Ss)=>{"use strict";var gs=h(),De=gs.method;Ss.exports=gs.extend({path:"file_links",create:De({method:"POST",path:""}),retrieve:De({method:"GET",path:"/{link}"}),update:De({method:"POST",path:"/{link}"}),list:De({method:"GET",path:"",methodType:"list"})})});var Ps=u((vu,_s)=>{"use strict";var xs=h(),q=xs.method;_s.exports=xs.extend({path:"invoices",create:q({method:"POST",path:""}),retrieve:q({method:"GET",path:"/{invoice}"}),update:q({method:"POST",path:"/{invoice}"}),list:q({method:"GET",path:"",methodType:"list"}),del:q({method:"DELETE",path:"/{invoice}"}),finalizeInvoice:q({method:"POST",path:"/{invoice}/finalize"}),markUncollectible:q({method:"POST",path:"/{invoice}/mark_uncollectible"}),pay:q({method:"POST",path:"/{invoice}/pay"}),retrieveUpcoming:q({method:"GET",path:"/upcoming"}),sendInvoice:q({method:"POST",path:"/{invoice}/send"}),voidInvoice:q({method:"POST",path:"/{invoice}/void"}),listLineItems:q({method:"GET",path:"/{invoice}/lines",methodType:"list"}),listUpcomingLineItems:q({method:"GET",path:"/upcoming/lines",methodType:"list"})})});var Os=u((Ru,Rs)=>{"use strict";var vs=h(),de=vs.method;Rs.exports=vs.extend({path:"invoiceitems",create:de({method:"POST",path:""}),retrieve:de({method:"GET",path:"/{invoiceitem}"}),update:de({method:"POST",path:"/{invoiceitem}"}),list:de({method:"GET",path:"",methodType:"list"}),del:de({method:"DELETE",path:"/{invoiceitem}"})})});var ws=u((Ou,bs)=>{"use strict";var qs=h(),As=qs.method;bs.exports=qs.extend({path:"issuer_fraud_records",retrieve:As({method:"GET",path:"/{issuerFraudRecord}"}),list:As({method:"GET",path:"",methodType:"list"})})});var Ms=u((qu,Is)=>{"use strict";var Cs=h(),Pc=Cs.method;Is.exports=Cs.extend({path:"mandates",retrieve:Pc({method:"GET",path:"/{mandate}"})})});var ks=u((Au,Ns)=>{"use strict";var Gs=h(),Ds=Gs.method,vc=D(),Tt="connect.stripe.com";Ns.exports=Gs.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let r="oauth/authorize";return e.express&&(r=`express/${r}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${Tt}/${r}?${vc.stringifyRequestData(t)}`},token:Ds({method:"POST",path:"oauth/token",host:Tt}),deauthorize(t){return t.client_id||(t.client_id=this._stripe.getClientId()),Ds({method:"POST",path:"oauth/deauthorize",host:Tt}).apply(this,arguments)}})});var Hs=u((bu,Ls)=>{"use strict";var Fs=h(),Y=Fs.method;Ls.exports=Fs.extend({path:"orders",create:Y({method:"POST",path:""}),retrieve:Y({method:"GET",path:"/{id}"}),update:Y({method:"POST",path:"/{id}"}),list:Y({method:"GET",path:"",methodType:"list"}),pay:Y({method:"POST",path:"/{id}/pay"}),returnOrder:Y({method:"POST",path:"/{id}/returns"})})});var Bs=u((wu,$s)=>{"use strict";var Us=h(),js=Us.method;$s.exports=Us.extend({path:"order_returns",retrieve:js({method:"GET",path:"/{id}"}),list:js({method:"GET",path:"",methodType:"list"})})});var zs=u((Cu,Ks)=>{"use strict";var Vs=h(),V=Vs.method;Ks.exports=Vs.extend({path:"payment_intents",create:V({method:"POST",path:""}),retrieve:V({method:"GET",path:"/{intent}"}),update:V({method:"POST",path:"/{intent}"}),list:V({method:"GET",path:"",methodType:"list"}),cancel:V({method:"POST",path:"/{intent}/cancel"}),capture:V({method:"POST",path:"/{intent}/capture"}),confirm:V({method:"POST",path:"/{intent}/confirm"})})});var Xs=u((Iu,Qs)=>{"use strict";var Ws=h(),le=Ws.method;Qs.exports=Ws.extend({path:"payment_links",create:le({method:"POST",path:""}),retrieve:le({method:"GET",path:"/{paymentLink}"}),update:le({method:"POST",path:"/{paymentLink}"}),list:le({method:"GET",path:"",methodType:"list"}),listLineItems:le({method:"GET",path:"/{paymentLink}/line_items",methodType:"list"})})});var Zs=u((Mu,Ys)=>{"use strict";var Js=h(),Z=Js.method;Ys.exports=Js.extend({path:"payment_methods",create:Z({method:"POST",path:""}),retrieve:Z({method:"GET",path:"/{paymentMethod}"}),update:Z({method:"POST",path:"/{paymentMethod}"}),list:Z({method:"GET",path:"",methodType:"list"}),attach:Z({method:"POST",path:"/{paymentMethod}/attach"}),detach:Z({method:"POST",path:"/{paymentMethod}/detach"})})});var ro=u((Gu,to)=>{"use strict";var eo=h(),ee=eo.method;to.exports=eo.extend({path:"payouts",create:ee({method:"POST",path:""}),retrieve:ee({method:"GET",path:"/{payout}"}),update:ee({method:"POST",path:"/{payout}"}),list:ee({method:"GET",path:"",methodType:"list"}),cancel:ee({method:"POST",path:"/{payout}/cancel"}),reverse:ee({method:"POST",path:"/{payout}/reverse"})})});var io=u((Du,oo)=>{"use strict";var so=h(),me=so.method;oo.exports=so.extend({path:"plans",create:me({method:"POST",path:""}),retrieve:me({method:"GET",path:"/{plan}"}),update:me({method:"POST",path:"/{plan}"}),list:me({method:"GET",path:"",methodType:"list"}),del:me({method:"DELETE",path:"/{plan}"})})});var co=u((Nu,ao)=>{"use strict";var no=h(),Ne=no.method;ao.exports=no.extend({path:"prices",create:Ne({method:"POST",path:""}),retrieve:Ne({method:"GET",path:"/{price}"}),update:Ne({method:"POST",path:"/{price}"}),list:Ne({method:"GET",path:"",methodType:"list"})})});var ho=u((ku,po)=>{"use strict";var uo=h(),fe=uo.method;po.exports=uo.extend({path:"products",create:fe({method:"POST",path:""}),retrieve:fe({method:"GET",path:"/{id}"}),update:fe({method:"POST",path:"/{id}"}),list:fe({method:"GET",path:"",methodType:"list"}),del:fe({method:"DELETE",path:"/{id}"})})});var fo=u((Fu,mo)=>{"use strict";var lo=h(),ke=lo.method;mo.exports=lo.extend({path:"promotion_codes",create:ke({method:"POST",path:""}),retrieve:ke({method:"GET",path:"/{promotionCode}"}),update:ke({method:"POST",path:"/{promotionCode}"}),list:ke({method:"GET",path:"",methodType:"list"})})});var go=u((Lu,To)=>{"use strict";var yo=h(),C=yo.method;To.exports=yo.extend({path:"quotes",create:C({method:"POST",path:""}),retrieve:C({method:"GET",path:"/{quote}"}),update:C({method:"POST",path:"/{quote}"}),list:C({method:"GET",path:"",methodType:"list"}),accept:C({method:"POST",path:"/{quote}/accept"}),cancel:C({method:"POST",path:"/{quote}/cancel"}),finalizeQuote:C({method:"POST",path:"/{quote}/finalize"}),listComputedUpfrontLineItems:C({method:"GET",path:"/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:C({method:"GET",path:"/{quote}/line_items",methodType:"list"}),pdf:C({host:"files.stripe.com",method:"GET",path:"/{quote}/pdf",streaming:!0})})});var xo=u((Hu,Eo)=>{"use strict";var So=h(),Fe=So.method;Eo.exports=So.extend({path:"refunds",create:Fe({method:"POST",path:""}),retrieve:Fe({method:"GET",path:"/{refund}"}),update:Fe({method:"POST",path:"/{refund}"}),list:Fe({method:"GET",path:"",methodType:"list"})})});var vo=u((Uu,Po)=>{"use strict";var _o=h(),gt=_o.method;Po.exports=_o.extend({path:"reviews",retrieve:gt({method:"GET",path:"/{review}"}),list:gt({method:"GET",path:"",methodType:"list"}),approve:gt({method:"POST",path:"/{review}/approve"})})});var qo=u((ju,Oo)=>{"use strict";var Ro=h(),Rc=Ro.method;Oo.exports=Ro.extend({path:"setup_attempts",list:Rc({method:"GET",path:"",methodType:"list"})})});var wo=u(($u,bo)=>{"use strict";var Ao=h(),te=Ao.method;bo.exports=Ao.extend({path:"setup_intents",create:te({method:"POST",path:""}),retrieve:te({method:"GET",path:"/{intent}"}),update:te({method:"POST",path:"/{intent}"}),list:te({method:"GET",path:"",methodType:"list"}),cancel:te({method:"POST",path:"/{intent}/cancel"}),confirm:te({method:"POST",path:"/{intent}/confirm"})})});var Mo=u((Bu,Io)=>{"use strict";var Co=h(),Le=Co.method;Io.exports=Co.extend({path:"shipping_rates",create:Le({method:"POST",path:""}),retrieve:Le({method:"GET",path:"/{shippingRateToken}"}),update:Le({method:"POST",path:"/{shippingRateToken}"}),list:Le({method:"GET",path:"",methodType:"list"})})});var No=u((Vu,Do)=>{"use strict";var Go=h(),ye=Go.method;Do.exports=Go.extend({path:"skus",create:ye({method:"POST",path:""}),retrieve:ye({method:"GET",path:"/{id}"}),update:ye({method:"POST",path:"/{id}"}),list:ye({method:"GET",path:"",methodType:"list"}),del:ye({method:"DELETE",path:"/{id}"})})});var Lo=u((Ku,Fo)=>{"use strict";var ko=h(),Te=ko.method;Fo.exports=ko.extend({path:"sources",create:Te({method:"POST",path:""}),retrieve:Te({method:"GET",path:"/{source}"}),update:Te({method:"POST",path:"/{source}"}),listSourceTransactions:Te({method:"GET",path:"/{source}/source_transactions",methodType:"list"}),verify:Te({method:"POST",path:"/{source}/verify"})})});var jo=u((zu,Uo)=>{"use strict";var Ho=h(),re=Ho.method;Uo.exports=Ho.extend({path:"subscriptions",create:re({method:"POST",path:""}),retrieve:re({method:"GET",path:"/{subscriptionExposedId}"}),update:re({method:"POST",path:"/{subscriptionExposedId}"}),list:re({method:"GET",path:"",methodType:"list"}),del:re({method:"DELETE",path:"/{subscriptionExposedId}"}),deleteDiscount:re({method:"DELETE",path:"/{subscriptionExposedId}/discount"})})});var Vo=u((Wu,Bo)=>{"use strict";var $o=h(),K=$o.method;Bo.exports=$o.extend({path:"subscription_items",create:K({method:"POST",path:""}),retrieve:K({method:"GET",path:"/{item}"}),update:K({method:"POST",path:"/{item}"}),list:K({method:"GET",path:"",methodType:"list"}),del:K({method:"DELETE",path:"/{item}"}),createUsageRecord:K({method:"POST",path:"/{subscriptionItem}/usage_records"}),listUsageRecordSummaries:K({method:"GET",path:"/{subscriptionItem}/usage_record_summaries",methodType:"list"})})});var Wo=u((Qu,zo)=>{"use strict";var Ko=h(),se=Ko.method;zo.exports=Ko.extend({path:"subscription_schedules",create:se({method:"POST",path:""}),retrieve:se({method:"GET",path:"/{schedule}"}),update:se({method:"POST",path:"/{schedule}"}),list:se({method:"GET",path:"",methodType:"list"}),cancel:se({method:"POST",path:"/{schedule}/cancel"}),release:se({method:"POST",path:"/{schedule}/release"})})});var Yo=u((Xu,Jo)=>{"use strict";var Qo=h(),Xo=Qo.method;Jo.exports=Qo.extend({path:"tax_codes",retrieve:Xo({method:"GET",path:"/{id}"}),list:Xo({method:"GET",path:"",methodType:"list"})})});var ti=u((Ju,ei)=>{"use strict";var Zo=h(),He=Zo.method;ei.exports=Zo.extend({path:"tax_rates",create:He({method:"POST",path:""}),retrieve:He({method:"GET",path:"/{taxRate}"}),update:He({method:"POST",path:"/{taxRate}"}),list:He({method:"GET",path:"",methodType:"list"})})});var ii=u((Yu,oi)=>{"use strict";var ri=h(),si=ri.method;oi.exports=ri.extend({path:"tokens",create:si({method:"POST",path:""}),retrieve:si({method:"GET",path:"/{token}"})})});var ci=u((Zu,ai)=>{"use strict";var ni=h(),ge=ni.method;ai.exports=ni.extend({path:"topups",create:ge({method:"POST",path:""}),retrieve:ge({method:"GET",path:"/{topup}"}),update:ge({method:"POST",path:"/{topup}"}),list:ge({method:"GET",path:"",methodType:"list"}),cancel:ge({method:"POST",path:"/{topup}/cancel"})})});var hi=u((ep,pi)=>{"use strict";var ui=h(),H=ui.method;pi.exports=ui.extend({path:"transfers",create:H({method:"POST",path:""}),retrieve:H({method:"GET",path:"/{transfer}"}),update:H({method:"POST",path:"/{transfer}"}),list:H({method:"GET",path:"",methodType:"list"}),createReversal:H({method:"POST",path:"/{id}/reversals"}),retrieveReversal:H({method:"GET",path:"/{transfer}/reversals/{id}"}),updateReversal:H({method:"POST",path:"/{transfer}/reversals/{id}"}),listReversals:H({method:"GET",path:"/{id}/reversals",methodType:"list"})})});var mi=u((tp,li)=>{"use strict";var di=h(),Se=di.method;li.exports=di.extend({path:"webhook_endpoints",create:Se({method:"POST",path:""}),retrieve:Se({method:"GET",path:"/{webhookEndpoint}"}),update:Se({method:"POST",path:"/{webhookEndpoint}"}),list:Se({method:"GET",path:"",methodType:"list"}),del:Se({method:"DELETE",path:"/{webhookEndpoint}"})})});var Ti=u((rp,yi)=>{"use strict";var fi=h(),Ue=fi.method;yi.exports=fi.extend({path:"billing_portal/configurations",create:Ue({method:"POST",path:""}),retrieve:Ue({method:"GET",path:"/{configuration}"}),update:Ue({method:"POST",path:"/{configuration}"}),list:Ue({method:"GET",path:"",methodType:"list"})})});var Ei=u((sp,Si)=>{"use strict";var gi=h(),Oc=gi.method;Si.exports=gi.extend({path:"billing_portal/sessions",create:Oc({method:"POST",path:""})})});var Pi=u((op,_i)=>{"use strict";var xi=h(),Ee=xi.method;_i.exports=xi.extend({path:"checkout/sessions",create:Ee({method:"POST",path:""}),retrieve:Ee({method:"GET",path:"/{session}"}),list:Ee({method:"GET",path:"",methodType:"list"}),expire:Ee({method:"POST",path:"/{session}/expire"}),listLineItems:Ee({method:"GET",path:"/{session}/line_items",methodType:"list"})})});var qi=u((ip,Oi)=>{"use strict";var vi=h(),Ri=vi.method;Oi.exports=vi.extend({path:"identity/verification_reports",retrieve:Ri({method:"GET",path:"/{report}"}),list:Ri({method:"GET",path:"",methodType:"list"})})});var wi=u((np,bi)=>{"use strict";var Ai=h(),oe=Ai.method;bi.exports=Ai.extend({path:"identity/verification_sessions",create:oe({method:"POST",path:""}),retrieve:oe({method:"GET",path:"/{session}"}),update:oe({method:"POST",path:"/{session}"}),list:oe({method:"GET",path:"",methodType:"list"}),cancel:oe({method:"POST",path:"/{session}/cancel"}),redact:oe({method:"POST",path:"/{session}/redact"})})});var Mi=u((ap,Ii)=>{"use strict";var Ci=h(),xe=Ci.method;Ii.exports=Ci.extend({path:"issuing/authorizations",retrieve:xe({method:"GET",path:"/{authorization}"}),update:xe({method:"POST",path:"/{authorization}"}),list:xe({method:"GET",path:"",methodType:"list"}),approve:xe({method:"POST",path:"/{authorization}/approve"}),decline:xe({method:"POST",path:"/{authorization}/decline"})})});var Ni=u((cp,Di)=>{"use strict";var Gi=h(),_e=Gi.method;Di.exports=Gi.extend({path:"issuing/cards",create:_e({method:"POST",path:""}),retrieve:_e({method:"GET",path:"/{card}"}),update:_e({method:"POST",path:"/{card}"}),list:_e({method:"GET",path:"",methodType:"list"}),retrieveDetails:_e({method:"GET",path:"/{card}/details"})})});var Li=u((up,Fi)=>{"use strict";var ki=h(),je=ki.method;Fi.exports=ki.extend({path:"issuing/cardholders",create:je({method:"POST",path:""}),retrieve:je({method:"GET",path:"/{cardholder}"}),update:je({method:"POST",path:"/{cardholder}"}),list:je({method:"GET",path:"",methodType:"list"})})});var ji=u((pp,Ui)=>{"use strict";var Hi=h(),Pe=Hi.method;Ui.exports=Hi.extend({path:"issuing/disputes",create:Pe({method:"POST",path:""}),retrieve:Pe({method:"GET",path:"/{dispute}"}),update:Pe({method:"POST",path:"/{dispute}"}),list:Pe({method:"GET",path:"",methodType:"list"}),submit:Pe({method:"POST",path:"/{dispute}/submit"})})});var Vi=u((hp,Bi)=>{"use strict";var $i=h(),St=$i.method;Bi.exports=$i.extend({path:"issuing/transactions",retrieve:St({method:"GET",path:"/{transaction}"}),update:St({method:"POST",path:"/{transaction}"}),list:St({method:"GET",path:"",methodType:"list"})})});var Qi=u((dp,Wi)=>{"use strict";var Ki=h(),zi=Ki.method;Wi.exports=Ki.extend({path:"radar/early_fraud_warnings",retrieve:zi({method:"GET",path:"/{earlyFraudWarning}"}),list:zi({method:"GET",path:"",methodType:"list"})})});var Yi=u((lp,Ji)=>{"use strict";var Xi=h(),ve=Xi.method;Ji.exports=Xi.extend({path:"radar/value_lists",create:ve({method:"POST",path:""}),retrieve:ve({method:"GET",path:"/{valueList}"}),update:ve({method:"POST",path:"/{valueList}"}),list:ve({method:"GET",path:"",methodType:"list"}),del:ve({method:"DELETE",path:"/{valueList}"})})});var tn=u((mp,en)=>{"use strict";var Zi=h(),$e=Zi.method;en.exports=Zi.extend({path:"radar/value_list_items",create:$e({method:"POST",path:""}),retrieve:$e({method:"GET",path:"/{item}"}),list:$e({method:"GET",path:"",methodType:"list"}),del:$e({method:"DELETE",path:"/{item}"})})});var on=u((fp,sn)=>{"use strict";var rn=h(),Et=rn.method;sn.exports=rn.extend({path:"reporting/report_runs",create:Et({method:"POST",path:""}),retrieve:Et({method:"GET",path:"/{reportRun}"}),list:Et({method:"GET",path:"",methodType:"list"})})});var un=u((yp,cn)=>{"use strict";var nn=h(),an=nn.method;cn.exports=nn.extend({path:"reporting/report_types",retrieve:an({method:"GET",path:"/{reportType}"}),list:an({method:"GET",path:"",methodType:"list"})})});var ln=u((Tp,dn)=>{"use strict";var pn=h(),hn=pn.method;dn.exports=pn.extend({path:"sigma/scheduled_query_runs",retrieve:hn({method:"GET",path:"/{scheduledQueryRun}"}),list:hn({method:"GET",path:"",methodType:"list"})})});var yn=u((gp,fn)=>{"use strict";var mn=h(),qc=mn.method;fn.exports=mn.extend({path:"terminal/connection_tokens",create:qc({method:"POST",path:""})})});var Sn=u((Sp,gn)=>{"use strict";var Tn=h(),Re=Tn.method;gn.exports=Tn.extend({path:"terminal/locations",create:Re({method:"POST",path:""}),retrieve:Re({method:"GET",path:"/{location}"}),update:Re({method:"POST",path:"/{location}"}),list:Re({method:"GET",path:"",methodType:"list"}),del:Re({method:"DELETE",path:"/{location}"})})});var _n=u((Ep,xn)=>{"use strict";var En=h(),Oe=En.method;xn.exports=En.extend({path:"terminal/readers",create:Oe({method:"POST",path:""}),retrieve:Oe({method:"GET",path:"/{reader}"}),update:Oe({method:"POST",path:"/{reader}"}),list:Oe({method:"GET",path:"",methodType:"list"}),del:Oe({method:"DELETE",path:"/{reader}"})})});var vn=u((xp,Pn)=>{"use strict";var U=kt();Pn.exports={Accounts:mt(),Account:mt(),AccountLinks:Er(),ApplePayDomains:Pr(),ApplicationFees:Or(),Balance:br(),BalanceTransactions:Mr(),Charges:Nr(),CountrySpecs:Hr(),Coupons:$r(),CreditNotes:Kr(),Customers:Qr(),Disputes:Yr(),EphemeralKeys:rs(),Events:ns(),ExchangeRates:ps(),Files:Ts(),FileLinks:Es(),Invoices:Ps(),InvoiceItems:Os(),IssuerFraudRecords:ws(),Mandates:Ms(),OAuth:ks(),Orders:Hs(),OrderReturns:Bs(),PaymentIntents:zs(),PaymentLinks:Xs(),PaymentMethods:Zs(),Payouts:ro(),Plans:io(),Prices:co(),Products:ho(),PromotionCodes:fo(),Quotes:go(),Refunds:xo(),Reviews:vo(),SetupAttempts:qo(),SetupIntents:wo(),ShippingRates:Mo(),Skus:No(),Sources:Lo(),Subscriptions:jo(),SubscriptionItems:Vo(),SubscriptionSchedules:Wo(),TaxCodes:Yo(),TaxRates:ti(),Tokens:ii(),Topups:ci(),Transfers:hi(),WebhookEndpoints:mi(),BillingPortal:U("billingPortal",{Configurations:Ti(),Sessions:Ei()}),Checkout:U("checkout",{Sessions:Pi()}),Identity:U("identity",{VerificationReports:qi(),VerificationSessions:wi()}),Issuing:U("issuing",{Authorizations:Mi(),Cards:Ni(),Cardholders:Li(),Disputes:ji(),Transactions:Vi()}),Radar:U("radar",{EarlyFraudWarnings:Qi(),ValueLists:Yi(),ValueListItems:tn()}),Reporting:U("reporting",{ReportRuns:on(),ReportTypes:un()}),Sigma:U("sigma",{ScheduledQueryRuns:ln()}),Terminal:U("terminal",{ConnectionTokens:yn(),Locations:Sn(),Readers:_n()})}});var Rn=u((_p,Ac)=>{Ac.exports={_args:[["stripe@8.201.0","C:\\Users\\ahmed\\OneDrive\\Desktop\\demo-notes-app-main"]],_from:"stripe@8.201.0",_id:"stripe@8.201.0",_inBundle:!1,_integrity:"sha512-pF0F1DdE9zt0U6Cb0XN+REpdFkUmaqp6C7OEVOCeUpTAafjjJqrdV/WmZd7Y5MwT8XvDAxB5/v3CAXwxAp0XNg==",_location:"/stripe",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"stripe@8.201.0",name:"stripe",escapedName:"stripe",rawSpec:"8.201.0",saveSpec:null,fetchSpec:"8.201.0"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/stripe/-/stripe-8.201.0.tgz",_spec:"8.201.0",_where:"C:\\Users\\ahmed\\OneDrive\\Desktop\\demo-notes-app-main",author:{name:"Stripe",email:"support@stripe.com",url:"https://stripe.com/"},bugs:{url:"https://github.com/stripe/stripe-node/issues"},contributors:[{name:"Ask Bj\xF8rn Hansen",email:"ask@develooper.com",url:"http://www.askask.com/"},{name:"Michelle Bu",email:"michelle@stripe.com"},{name:"Alex Sexton",email:"alex@stripe.com"},{name:"James Padolsey"}],dependencies:{"@types/node":">=8.1.0",qs:"^6.6.0"},description:"Stripe API wrapper",devDependencies:{"@typescript-eslint/eslint-plugin":"^2.13.0","@typescript-eslint/parser":"^2.13.0",chai:"~4.2.0","chai-as-promised":"~7.1.1",eslint:"^6.8.0","eslint-config-prettier":"^4.1.0","eslint-plugin-chai-friendly":"^0.4.0","eslint-plugin-prettier":"^3.0.1",mocha:"^8.3.2","mocha-junit-reporter":"^1.23.1",nock:"^13.1.1","node-fetch":"^2.6.2",nyc:"^15.1.0",prettier:"^1.16.4",typescript:"^3.7.2"},engines:{node:"^8.1 || >=10.*"},homepage:"https://github.com/stripe/stripe-node",keywords:["stripe","payment processing","credit cards","api"],license:"MIT",main:"lib/stripe.js",name:"stripe",repository:{type:"git",url:"git://github.com/stripe/stripe-node.git"},resolutions:{"ansi-regex":"5.0.1",nanoid:"3.2.0"},scripts:{clean:"rm -rf ./.nyc_output ./node_modules/.cache ./coverage",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"yarn lint --fix && ./scripts/updateAPIVersion.js",lint:"eslint --ext .js,.jsx,.ts .",mocha:"nyc mocha --config=test/.mocharc.js","mocha-only":"mocha --config=test/.mocharc.js",report:"nyc -r text -r lcov report",test:"yarn lint && yarn test-typescript && yarn mocha","test-typescript":"tsc --build types/test"},types:"types/2020-08-27/index.d.ts",version:"8.201.0"}});var Be=u((Pp,qn)=>{"use strict";var On=class{computeHMACSignature(e,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,r){throw new Error("computeHMACSignatureAsync not implemented.")}};qn.exports=On});var xt=u((vp,bn)=>{"use strict";var bc=require("crypto"),wc=Be(),An=class extends wc{computeHMACSignature(e,r){return bc.createHmac("sha256",r).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,r){return await this.computeHMACSignature(e,r)}};bn.exports=An});var vt=u((Rp,Dn)=>{"use strict";var wn=D(),{StripeError:Cc,StripeSignatureVerificationError:Ve}=Q(),Ke={DEFAULT_TOLERANCE:300,constructEvent(t,e,r,s,o){return this.signature.verifyHeader(t,e,r,s||Ke.DEFAULT_TOLERANCE,o),JSON.parse(t)},async constructEventAsync(t,e,r,s,o){return await this.signature.verifyHeaderAsync(t,e,r,s||Ke.DEFAULT_TOLERANCE,o),JSON.parse(t)},generateTestHeaderString:function(t){if(!t)throw new Cc({message:"Options are required"});return t.timestamp=Math.floor(t.timestamp)||Math.floor(Date.now()/1e3),t.scheme=t.scheme||Cn.EXPECTED_SCHEME,t.cryptoProvider=t.cryptoProvider||Pt(),t.signature=t.signature||t.cryptoProvider.computeHMACSignature(t.timestamp+"."+t.payload,t.secret),["t="+t.timestamp,t.scheme+"="+t.signature].join(",")}},Cn={EXPECTED_SCHEME:"v1",verifyHeader(t,e,r,s,o){let{decodedHeader:i,decodedPayload:n,details:a}=Mn(t,e,this.EXPECTED_SCHEME);o=o||Pt();let c=o.computeHMACSignature(In(n,a),r);return Gn(n,i,a,c,s),!0},async verifyHeaderAsync(t,e,r,s,o){let{decodedHeader:i,decodedPayload:n,details:a}=Mn(t,e,this.EXPECTED_SCHEME);o=o||Pt();let c=await o.computeHMACSignatureAsync(In(n,a),r);return Gn(n,i,a,c,s)}};function In(t,e){return`${e.timestamp}.${t}`}function Mn(t,e,r){let s=Buffer.isBuffer(t)?t.toString("utf8"):t;if(Array.isArray(e))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");let o=Buffer.isBuffer(e)?e.toString("utf8"):e,i=Ic(o,r);if(!i||i.timestamp===-1)throw new Ve({message:"Unable to extract timestamp and signatures from header",detail:{decodedHeader:o,decodedPayload:s}});if(!i.signatures.length)throw new Ve({message:"No signatures found with expected scheme",detail:{decodedHeader:o,decodedPayload:s}});return{decodedPayload:s,decodedHeader:o,details:i}}function Gn(t,e,r,s,o){if(!!!r.signatures.filter(wn.secureCompare.bind(wn,s)).length)throw new Ve({message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? https://github.com/stripe/stripe-node#webhook-signing",detail:{header:e,payload:t}});let n=Math.floor(Date.now()/1e3)-r.timestamp;if(o>0&&n>o)throw new Ve({message:"Timestamp outside the tolerance zone",detail:{header:e,payload:t}});return!0}function Ic(t,e){return typeof t!="string"?null:t.split(",").reduce((r,s)=>{let o=s.split("=");return o[0]==="t"&&(r.timestamp=o[1]),o[0]===e&&r.signatures.push(o[1]),r},{timestamp:-1,signatures:[]})}var _t=null;function Pt(){if(!_t){let t=xt();_t=new t}return _t}Ke.signature=Cn;Dn.exports=Ke});var Un=u((Op,Hn)=>{"use strict";var Nn=require("http"),kn=require("https"),{HttpClient:Fn,HttpClientResponse:Mc}=ce(),Gc=new Nn.Agent({keepAlive:!0}),Dc=new kn.Agent({keepAlive:!0}),Ln=class extends Fn{constructor(e){super();this._agent=e}getClientName(){return"node"}makeRequest(e,r,s,o,i,n,a,c){let p=a==="http",l=this._agent;return l||(l=p?Gc:Dc),new Promise((f,y)=>{let d=(p?Nn:kn).request({host:e,port:r,path:s,method:o,agent:l,headers:i,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});d.setTimeout(c,()=>{d.destroy(Fn.makeTimeoutError())}),d.on("response",m=>{f(new Rt(m))}),d.on("error",m=>{y(m)}),d.once("socket",m=>{m.connecting?m.once(p?"connect":"secureConnect",()=>{d.write(n),d.end()}):(d.write(n),d.end())})})}},Rt=class extends Mc{constructor(e){super(e.statusCode,e.headers||{});this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,r)=>{let s="";this._res.setEncoding("utf8"),this._res.on("data",o=>{s+=o}),this._res.once("end",()=>{try{e(JSON.parse(s))}catch(o){r(o)}})})}};Hn.exports={NodeHttpClient:Ln,NodeHttpClientResponse:Rt}});var Vn=u((qp,Bn)=>{"use strict";var{HttpClient:jn,HttpClientResponse:Nc}=ce(),$n=class extends jn{constructor(e){super();this._fetchFn=e}getClientName(){return"fetch"}makeRequest(e,r,s,o,i,n,a,c){let p=a==="http",l=new URL(s,`${p?"http":"https"}://${e}`);l.port=r;let f=(this._fetchFn||fetch)(l.toString(),{method:o,headers:i,body:n||void 0}),y,d=new Promise((m,I)=>{y=setTimeout(()=>{y=null,I(jn.makeTimeoutError())},c)});return Promise.race([f,d]).then(m=>new qe(m)).finally(()=>{y&&clearTimeout(y)})}},qe=class extends Nc{constructor(e){super(e.status,qe._transformHeadersToObject(e.headers));this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let r={};for(let s of e){if(!Array.isArray(s)||s.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[s[0]]=s[1]}return r}};Bn.exports={FetchHttpClient:$n,FetchHttpClientResponse:qe}});var Wn=u((Ap,zn)=>{"use strict";var kc=Be(),Kn=class extends kc{constructor(e){super();this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,r){throw new Error("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,r){let s=new TextEncoder("utf-8"),o=await this.subtleCrypto.importKey("raw",s.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",o,s.encode(e)),n=new Uint8Array(i),a=new Array(n.length);for(let c=0;c<n.length;c++)a[c]=Ot[n[c]];return a.join("")}},Ot=new Array(256);for(let t=0;t<Ot.length;t++)Ot[t]=t.toString(16).padStart(2,"0");zn.exports=Kn});var ra=u((bp,ze)=>{"use strict";var qt=vn(),Qn="api.stripe.com",Xn="443",Jn="/v1/",Yn=null,At=8e4;g.PACKAGE_VERSION=Rn().version;var ie=D(),{determineProcessUserAgentProperties:Fc,emitWarning:N}=ie;g.USER_AGENT=be({bindings_version:g.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},Fc());g._UNAME_CACHE=null;var Zn=2,ea=.5,Lc=["name","version","url","partner_id"],ta=["apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount"],Hc=require("events").EventEmitter;g.StripeResource=h();g.resources=qt;var{HttpClient:Uc,HttpClientResponse:jc}=ce();g.HttpClient=Uc;g.HttpClientResponse=jc;var $c=Be();g.CryptoProvider=$c;function g(t,e={}){if(!(this instanceof g))return new g(t,e);let r=this._getPropsFromConfig(e);if(Object.defineProperty(this,"_emitter",{value:new Hc,enumerable:!1,configurable:!1,writable:!1}),this.VERSION=g.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter),r.protocol&&r.protocol!=="https"&&(!r.host||/\.stripe\.com$/.test(r.host)))throw new Error("The `https` protocol must be used when sending requests to `*.stripe.com`");let s=r.httpAgent||null;this._api={auth:null,host:r.host||Qn,port:r.port||Xn,protocol:r.protocol||"https",basePath:Jn,version:r.apiVersion||Yn,timeout:ie.validateInteger("timeout",r.timeout,At),maxNetworkRetries:ie.validateInteger("maxNetworkRetries",r.maxNetworkRetries,0),agent:s,httpClient:r.httpClient||g.createNodeHttpClient(s),dev:!1,stripeAccount:r.stripeAccount||null};let o=r.typescript||!1;o!==g.USER_AGENT.typescript&&(g.USER_AGENT.typescript=o),r.appInfo&&this._setAppInfo(r.appInfo),this._prepResources(),this._setApiKey(t),this.errors=Q(),this.webhooks=vt(),this._prevRequestMetrics=[],this._enableTelemetry=r.telemetry!==!1,this.StripeResource=g.StripeResource}g.errors=Q();g.webhooks=vt();g.createNodeHttpClient=t=>{let{NodeHttpClient:e}=Un();return new e(t)};g.createFetchHttpClient=t=>{let{FetchHttpClient:e}=Vn();return new e(t)};g.createNodeCryptoProvider=()=>{let t=xt();return new t};g.createSubtleCryptoProvider=t=>{let e=Wn();return new e(t)};g.prototype={setHost(t,e,r){N("`setHost` is deprecated. Use the `host` config option instead."),this._setApiField("host",t),e&&this.setPort(e),r&&this.setProtocol(r)},setProtocol(t){N("`setProtocol` is deprecated. Use the `protocol` config option instead."),this._setApiField("protocol",t.toLowerCase())},setPort(t){N("`setPort` is deprecated. Use the `port` config option instead."),this._setApiField("port",t)},setApiVersion(t){N("`setApiVersion` is deprecated. Use the `apiVersion` config or request option instead."),t&&this._setApiField("version",t)},setApiKey(t){N("`setApiKey` is deprecated. Use the `apiKey` request option instead."),this._setApiKey(t)},_setApiKey(t){t&&this._setApiField("auth",`Bearer ${t}`)},setTimeout(t){N("`setTimeout` is deprecated. Use the `timeout` config or request option instead."),this._setApiField("timeout",t==null?At:t)},setAppInfo(t){N("`setAppInfo` is deprecated. Use the `appInfo` config option instead."),this._setAppInfo(t)},_setAppInfo(t){if(t&&typeof t!="object")throw new Error("AppInfo must be an object.");if(t&&!t.name)throw new Error("AppInfo.name is required");t=t||{};let e=Lc.reduce((r,s)=>(typeof t[s]=="string"&&(r=r||{},r[s]=t[s]),r),void 0);this._appInfo=e},setHttpAgent(t){N("`setHttpAgent` is deprecated. Use the `httpAgent` config option instead."),this._setApiField("agent",t)},_setApiField(t,e){this._api[t]=e},getApiField(t){return this._api[t]},setClientId(t){this._clientId=t},getClientId(){return this._clientId},getConstant:t=>{switch(t){case"DEFAULT_HOST":return Qn;case"DEFAULT_PORT":return Xn;case"DEFAULT_BASE_PATH":return Jn;case"DEFAULT_API_VERSION":return Yn;case"DEFAULT_TIMEOUT":return At;case"MAX_NETWORK_RETRY_DELAY_SEC":return Zn;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return ea}return g[t]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},setMaxNetworkRetries(t){this._setApiNumberField("maxNetworkRetries",t)},_setApiNumberField(t,e,r){let s=ie.validateInteger(t,e,r);this._setApiField(t,s)},getMaxNetworkRetryDelay(){return Zn},getInitialNetworkRetryDelay(){return ea},getUname(t){g._UNAME_CACHE||(g._UNAME_CACHE=new Promise(e=>{ie.safeExec("uname -a",(r,s)=>{e(s)})})),g._UNAME_CACHE.then(e=>t(e))},getClientUserAgent(t){return this.getClientUserAgentSeeded(g.USER_AGENT,t)},getClientUserAgentSeeded(t,e){this.getUname(r=>{let s={};for(let i in t)s[i]=encodeURIComponent(t[i]);s.uname=encodeURIComponent(r||"UNKNOWN");let o=this.getApiField("httpClient");o&&(s.httplib=encodeURIComponent(o.getClientName())),this._appInfo&&(s.application=this._appInfo),e(JSON.stringify(s))})},getAppInfoAsString(){if(!this._appInfo)return"";let t=this._appInfo.name;return this._appInfo.version&&(t+=`/${this._appInfo.version}`),this._appInfo.url&&(t+=` (${this._appInfo.url})`),t},setTelemetryEnabled(t){N("`setTelemetryEnabled` is deprecated. Use the `telemetry` config option instead."),this._enableTelemetry=t},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let t in qt)this[ie.pascalToCamelCase(t)]=new qt[t](this)},_getPropsFromConfig(t){if(!t)return{};let e=typeof t=="string";if(!(t===Object(t)&&!Array.isArray(t))&&!e)throw new Error("Config must either be an object or a string");if(e)return{apiVersion:t};if(Object.keys(t).filter(o=>!ta.includes(o)).length>0)throw new Error(`Config object may only contain the following: ${ta.join(", ")}`);return t}};ze.exports=g;ze.exports.Stripe=g;ze.exports.default=g});ma(exports,{main:()=>Bc});var ca=We(ra());var sa=We(require("util")),oa=We(require("aws-sdk")),bt;oa.default.config.logger={log:wt};function wt(){bt.push({date:new Date,string:sa.default.format.apply(null,arguments)})}function ia(t){bt=[],wt("API event",{body:t.body,pathParameters:t.pathParameters,queryStringParameters:t.queryStringParameters})}function na(t){bt.forEach(({date:e,string:r})=>console.debug(e,r)),console.error(t)}function Ct(t){return async function(e,r){let s,o;ia(e);try{s=await t(e,r),o=200}catch(i){na(i),s={error:i.message},o=500}return{statusCode:o,body:JSON.stringify(s),headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}}}}function aa(t){return(t<=10?4:t<=100?2:1)*t*100}var Bc=Ct(async t=>{let{storage:e,source:r}=JSON.parse(t.body),s=aa(e),o="Scratch charge";return await new ca.default(process.env.STRIPE_SECRET_KEY).charges.create({source:r,amount:s,description:o,currency:"usd"}),{status:!0}});0&&(module.exports={main});
//# sourceMappingURL=billing.js.map
